(this.webpackJsonplamaadmin=this.webpackJsonplamaadmin||[]).push([[0],{307:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},454:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(19),r=a.n(n),i=(a(307),a(538)),l=a(541),j=a(542),d=a(543),o=a(544),u=a(545),b=a(546),h=a(547),O=a(548),p=a(549),m=a(550),x=a(551),f=a(31),v=a(1);function N(){return Object(v.jsx)("div",{className:"sidebar",children:Object(v.jsxs)("div",{className:"sidebarWrapper",children:[Object(v.jsxs)("div",{className:"sidebarMenu",children:[Object(v.jsx)("h3",{className:"sidebarTitle",children:"Dashboard"}),Object(v.jsxs)("ul",{className:"sidebarList",children:[Object(v.jsx)(f.b,{to:"/home",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem active",children:[Object(v.jsx)(i.a,{className:"sidebarIcon"}),"Home"]})}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(l.a,{className:"sidebarIcon"}),"Analytics"]}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(j.a,{className:"sidebarIcon"}),"Sales"]})]})]}),Object(v.jsxs)("div",{className:"sidebarMenu",children:[Object(v.jsx)("h3",{className:"sidebarTitle",children:"Quick Menu"}),Object(v.jsxs)("ul",{className:"sidebarList",children:[Object(v.jsx)(f.b,{to:"/users",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(d.a,{className:"sidebarIcon"}),"Staffs"]})}),Object(v.jsx)(f.b,{to:"/clients",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(d.a,{className:"sidebarIcon"}),"Clients"]})}),Object(v.jsx)(f.b,{to:"/shifts",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(o.a,{className:"sidebarIcon"}),"Shifts"]})}),Object(v.jsx)(f.b,{to:"/announcement",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(u.a,{className:"sidebarIcon"}),"Announcements"]})}),Object(v.jsx)(f.b,{to:"/incidences",className:"link",children:Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(b.a,{className:"sidebarIcon"}),"Incidences"]})})]})]}),Object(v.jsxs)("div",{className:"sidebarMenu",children:[Object(v.jsx)("h3",{className:"sidebarTitle",children:"Notifications"}),Object(v.jsxs)("ul",{className:"sidebarList",children:[Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(h.a,{className:"sidebarIcon"}),"Mail"]}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(O.a,{className:"sidebarIcon"}),"Feedback"]}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(p.a,{className:"sidebarIcon"}),"Messages"]})]})]}),Object(v.jsxs)("div",{className:"sidebarMenu",children:[Object(v.jsx)("h3",{className:"sidebarTitle",children:"Staff"}),Object(v.jsxs)("ul",{className:"sidebarList",children:[Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(m.a,{className:"sidebarIcon"}),"Manage"]}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(l.a,{className:"sidebarIcon"}),"Analytics"]}),Object(v.jsxs)("li",{className:"sidebarListItem",children:[Object(v.jsx)(x.a,{className:"sidebarIcon"}),"Reports"]})]})]})]})})}a(316);var g=a(37),w=a(552),S=a(553),I=a(554);function y(){var e=Object(g.g)();return Object(v.jsx)("div",{className:"topbar",children:Object(v.jsxs)("div",{className:"topbarWrapper",children:[Object(v.jsx)("div",{className:"topLeft",children:Object(v.jsx)("span",{className:"logo",children:"Aim Tasker Admin"})}),Object(v.jsxs)("div",{className:"topRight",children:[Object(v.jsxs)("div",{className:"topbarIconContainer",children:[Object(v.jsx)(w.a,{}),Object(v.jsx)("span",{className:"topIconBadge",children:"2"})]}),Object(v.jsxs)("div",{className:"topbarIconContainer",children:[Object(v.jsx)(S.a,{}),Object(v.jsx)("span",{className:"topIconBadge",children:"2"})]}),Object(v.jsx)("div",{className:"topbarIconContainer",children:Object(v.jsx)(I.a,{})}),Object(v.jsx)("span",{className:"logout",onClick:function(){localStorage.clear("staff"),e.push("/")},children:"Logout"})]})]})})}a(317),a(318);var C=a(555),k=a(570),U=a(271),T=a(276),A=a(137),D=a(559);function L(e){var t=e.title,a=e.data,c=e.dataKey,s=e.grid;return Object(v.jsxs)("div",{className:"chart",children:[Object(v.jsx)("h3",{className:"chartTitle",children:t}),Object(v.jsx)(C.a,{width:"100%",aspect:4,children:Object(v.jsxs)(k.a,{data:a,children:[Object(v.jsx)(U.a,{dataKey:"name",stroke:"#5550bd"}),Object(v.jsx)(T.a,{type:"monotone",dataKey:c,stroke:"#5550bd"}),Object(v.jsx)(A.a,{}),s&&Object(v.jsx)(D.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})})]})}var E=a(8),M=a.n(E),P=a(17),F=a(3),_=(a(454),a(560)),R=a(196),B=a.n(R),Y="https://api.aimtasker.com/api/v1/",J="https://api.aimtasker.com",z=B.a.create({baseURL:Y});B.a.create({baseURL:Y,headers:{token:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyMGI2NzM2ZjJmZDM2YTBlMjA5YWE3MSIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NDQ5MTQ1MDUsImV4cCI6MTY0NTE3MzcwNX0.TRfdqYrZXhFrj7kYmpv1jnQtYMxMPu-unP-g9cYux4Q")}});function G(){var e=Object(c.useState)([]),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(F.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)([]),d=Object(F.a)(j,2),o=d[0],u=d[1],b=Object(c.useState)([]),h=Object(F.a)(b,2),O=(h[0],h[1],Object(c.useState)(!1)),p=Object(F.a)(O,2),m=(p[0],p[1]);return Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,z.get("/shifts");case 4:t=e.sent,s(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,z.get("/users");case 4:t=e.sent,l(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,z.get("/clients");case 4:t=e.sent,u(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsxs)("div",{className:"featured",children:[Object(v.jsxs)("div",{className:"featuredItem",children:[Object(v.jsx)("span",{className:"featuredTitle",children:"Shifts"}),Object(v.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(v.jsx)("span",{className:"featuredMoney",children:a.length}),Object(v.jsxs)("span",{className:"featuredMoneyRate",children:["-11.4 ",Object(v.jsx)(_.a,{className:"featuredIcon"})]})]}),Object(v.jsx)("span",{className:"featuredSub",children:"Compared to last month"})]}),Object(v.jsxs)("div",{className:"featuredItem",children:[Object(v.jsx)("span",{className:"featuredTitle",children:"Clients"}),Object(v.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(v.jsx)("span",{className:"featuredMoney",children:o.length}),Object(v.jsxs)("span",{className:"featuredMoneyRate",children:["-1.4 ",Object(v.jsx)(_.a,{className:"featuredIcon"})]})]}),Object(v.jsx)("span",{className:"featuredSub",children:"Compared to last month"})]}),Object(v.jsxs)("div",{className:"featuredItem",children:[Object(v.jsx)("span",{className:"featuredTitle",children:"Staffs"}),Object(v.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(v.jsx)("span",{className:"featuredMoney",children:i.length}),Object(v.jsxs)("span",{className:"featuredMoneyRate",children:["+2.4 ",Object(v.jsx)(_.a,{className:"featuredIcon"})]})]}),Object(v.jsx)("span",{className:"featuredSub",children:"Compared to last month"})]})]})}a(472);var W=[{name:"Jan","Active User":4e3},{name:"Feb","Active User":3e3},{name:"Mar","Active User":5e3},{name:"Apr","Active User":4e3},{name:"May","Active User":3e3},{name:"Jun","Active User":2e3},{name:"Jul","Active User":4e3},{name:"Agu","Active User":3e3},{name:"Sep","Active User":4e3},{name:"Oct","Active User":1e3},{name:"Nov","Active User":4e3},{name:"Dec","Active User":3e3}],Q=(a(473),a(561));function H(){var e,t=Object(c.useState)(!1),a=Object(F.a)(t,2),s=(a[0],a[1]),n=Object(c.useState)([]),r=Object(F.a)(n,2),i=r[0],l=r[1];return Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,z.get("/users");case 4:t=e.sent,l(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),s(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsxs)("div",{className:"widgetSm",children:[Object(v.jsx)("span",{className:"widgetSmTitle",children:"New Join Staffs"}),Object(v.jsx)("ul",{className:"widgetSmList",children:null===i||void 0===i||null===(e=i.slice(0,5))||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)("li",{className:"widgetSmListItem",children:[Object(v.jsx)("img",{src:"https://cdn.pixabay.com/photo/2014/04/03/11/47/avatar-312160_640.png",alt:"",className:"widgetSmImg"}),Object(v.jsxs)("div",{className:"widgetSmUser",children:[Object(v.jsx)("span",{className:"widgetSmUsername",children:e.fullname}),Object(v.jsx)("span",{className:"widgetSmUserTitle",children:e.address})]}),Object(v.jsxs)("button",{className:"widgetSmButton",children:[Object(v.jsx)(Q.a,{className:"widgetSmIcon"}),"Display"]})]},t)}))})]})}a(474);var V=a(159),Z=a.n(V);function K(){var e=Object(c.useState)(!1),t=Object(F.a)(e,2),a=(t[0],t[1]),s=Object(c.useState)([]),n=Object(F.a)(s,2),r=n[0],i=n[1],l=function(e){var t=e.type;return Object(v.jsx)("button",{className:"widgetLgButton "+t,children:t})};return Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,z.get("/clients");case 4:t=e.sent,i(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),a(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsxs)("div",{className:"widgetLg",children:[Object(v.jsx)("h3",{className:"widgetLgTitle",children:"New Clients"}),Object(v.jsxs)("table",{className:"widgetLgTable",children:[Object(v.jsxs)("tr",{className:"widgetLgTr",children:[Object(v.jsx)("th",{className:"widgetLgTh",children:"Customer"}),Object(v.jsx)("th",{className:"widgetLgTh",children:"Date"}),Object(v.jsx)("th",{className:"widgetLgTh",children:"Address"}),Object(v.jsx)("th",{className:"widgetLgTh",children:"Status"})]}),null===r||void 0===r?void 0:r.slice(0,5).map((function(e,t){return Object(v.jsxs)("tr",{className:"widgetLgTr",children:[Object(v.jsxs)("td",{className:"widgetLgUser",children:[Object(v.jsx)("img",{src:"https://cdn.pixabay.com/photo/2014/04/03/11/56/avatar-312603_640.png",alt:"",className:"widgetLgImg"}),Object(v.jsx)("span",{className:"widgetLgName",children:e.fullname})]}),Object(v.jsx)("td",{className:"widgetLgAmount",children:Z()(e.createdAt).format("MM/DD/YYYY")}),Object(v.jsx)("td",{className:"widgetLgDate",children:e.address}),Object(v.jsx)("td",{className:"widgetLgStatus",children:Object(v.jsx)(l,{type:"Approved"})})]},t)}))]})]})}function X(){return Object(v.jsxs)("div",{className:"home",children:[Object(v.jsx)(G,{}),Object(v.jsx)(L,{data:W,title:"Clients Analytics",grid:!0,dataKey:"Active User"}),Object(v.jsxs)("div",{className:"homeWidgets",children:[Object(v.jsx)(H,{}),Object(v.jsx)(K,{})]})]})}a(475);var q=a(84),$=a(562),ee=a(76);a(149);function te(){var e=Object(c.useState)([]),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(F.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(F.a)(j,2),o=d[0],u=d[1],b=Object(c.useState)(null),h=Object(F.a)(b,2),O=h[0],p=h[1],m=function(){var e=Object(P.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=9;break}return e.prev=1,e.next=4,z.delete("/users/".concat(O));case 4:window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,z.get("/users");case 4:t=e.sent,s(t.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),l(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=[{field:"_id",headerName:"ID",width:150},{field:"fullname",headerName:"Full Name",width:150},{field:"phone",headerName:"Phone",width:150},{field:"staffID",headerName:"StaffID",width:150},{field:"email",headerName:"Email",width:200},{field:"address",headerName:"Address",width:100},{field:"action",headerName:"Action",width:300,renderCell:function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.b,{to:"/user/"+e.row._id,children:Object(v.jsx)("button",{className:"userListEdit",children:"View"})}),Object(v.jsx)($.a,{className:"userListDelete",onClick:function(){return t=e.row._id,u(!0),void p(t);var t}})]})}}];return Object(v.jsxs)("div",{className:"userList",children:[Object(v.jsx)("h3",{className:"incidences-header",children:"All Staffs"}),Object(v.jsx)("button",{onClick:function(){var e=new ee.default("landscape");e.text("Aim Tasker Staff Report",15,15);var t=a.map((function(e){return[e._id,e.fullname,e.phone,e.staffID,e.email,e.address,e.gender]}));e.autoTable({startY:20,head:[["ID","Full Name","PHONE","Staff ID","EMAIL","ADDRESS","GENDER"]],body:t,styles:{fontSize:10,cellWidth:"wrap"},margin:{top:20}}),e.save("staffs_report.pdf")},className:"generatepdf",children:"Generate Pdf"}),i?Object(v.jsx)("span",{children:"Loading ..."}):Object(v.jsx)(q.a,{rows:a,disableSelectionOnClick:!0,columns:x,getRowId:function(e){return e._id},pageSize:20,checkboxSelection:!0}),o&&Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("span",{className:"modal-header",children:"Are you sure you want to delete?"}),Object(v.jsxs)("div",{className:"cancel-delete",children:[Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),u(!o)},children:"Cancel"}),Object(v.jsx)("button",{onClick:m,children:"Confirm"})]})]})]})}var ae=a(565),ce=a(566),se=a(567),ne=a(568);a(478);function re(){var e,t=Object(g.h)().pathname.split("/")[2],a=Object(c.useState)({}),s=Object(F.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(""),l=Object(F.a)(i,2),j=l[0],o=l[1],u=Object(c.useState)(""),b=Object(F.a)(u,2),O=b[0],p=b[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/users/find/"+t);case 3:a=e.sent,r(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var m=function(){var e=Object(P.a)(M.a.mark((function e(){var t,a,c,s,r,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for("abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789","!@#$%^&*()-=_+[]{}|;:,.<>?",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-=_+[]{}|;:,.<>?",12,a="",c=0;c<12;c++)s=Math.floor(Math.random()*t.length),a+=t.charAt(s);if(8,r=/[A-Z]/.test(a),i=/[!@#$%^&*(),.?":{}|<>]/.test(a),!(a.length<8)&&r&&i){e.next=15;break}o("Password must be at least 8 characters long, contain an uppercase letter, and have a special character."),e.next=19;break;case 15:return e.next=17,z.put("/users/".concat(n._id),{email:n.email,password:a});case 17:o(""),p("Password has been updated successfully.");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"user",children:[Object(v.jsxs)("div",{className:"userTitleContainer",children:[Object(v.jsx)("h1",{className:"userTitle",children:"Edit User"}),Object(v.jsx)(f.b,{to:"/newUser",children:Object(v.jsx)("button",{className:"userAddButton",children:"Create"})})]}),Object(v.jsxs)("div",{className:"userContainer",children:[Object(v.jsxs)("div",{className:"userShow",children:[Object(v.jsx)("div",{className:"userShowTop",children:Object(v.jsx)("div",{className:"userShowTopTitle",children:Object(v.jsx)("span",{className:"userShowUsername",children:n.fullname})})}),Object(v.jsxs)("div",{className:"userShowBottom",children:[Object(v.jsx)("span",{className:"userShowTitle",children:"Account Details"}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(d.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.username})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(ae.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:"10.12.1999"})]}),Object(v.jsx)("span",{className:"userShowTitle",children:"Contact Details"}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(ce.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.phone})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(h.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.email})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(se.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.address})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:"documents",children:"Documents"}),null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)("div",{className:"doc",children:[Object(v.jsx)(ne.a,{className:"visibility_icon",onClick:function(){return function(e){window.open("".concat(J,"/files/").concat(e),"_blank","noreferrer")}(e)}}),Object(v.jsx)("span",{children:e})]},t)}))]})]})]}),Object(v.jsxs)("div",{className:"userUpdate",children:[Object(v.jsx)("span",{className:"userUpdateTitle",children:"Edit"}),Object(v.jsxs)("form",{className:"userUpdateForm",children:[Object(v.jsxs)("div",{className:"userUpdateLeft",children:[Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",placeholder:n.username,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Full Name"}),Object(v.jsx)("input",{type:"text",placeholder:n.fullname,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"text",placeholder:n.email,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Phone"}),Object(v.jsx)("input",{type:"text",placeholder:n.phone,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Address"}),Object(v.jsx)("input",{type:"text",placeholder:n.address,className:"userUpdateInput"})]})]}),Object(v.jsxs)("div",{className:"userUpdateRight",children:[Object(v.jsxs)("div",{className:"userUpdateUpload",children:[Object(v.jsx)("label",{htmlFor:"file"}),Object(v.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(v.jsxs)("div",{className:"reset",children:[Object(v.jsx)("button",{className:"reset-button",onClick:function(e){e.preventDefault(),m()},children:"Reset Password"}),j&&Object(v.jsx)("p",{style:{color:"red",width:"200px"},children:j}),O&&Object(v.jsx)("p",{style:{color:"green",width:"200px"},children:O})]}),Object(v.jsx)("button",{className:"userUpdateButton",children:"Update"})]})]})]})]})]})}a(479);function ie(){var e=Object(c.useState)(!1),t=Object(F.a)(e,2),a=(t[0],t[1]),s=Object(c.useState)(!1),n=Object(F.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)(""),j=Object(F.a)(l,2),d=j[0],o=j[1],u=Object(c.useState)(""),b=Object(F.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(F.a)(p,2),x=m[0],f=m[1],N=Object(c.useState)(""),g=Object(F.a)(N,2),w=g[0],S=g[1],I=Object(c.useState)(""),y=Object(F.a)(I,2),C=y[0],k=y[1],U=Object(c.useState)(""),T=Object(F.a)(U,2),A=T[0],D=T[1],L=Object(c.useState)(""),E=Object(F.a)(L,2),_=E[0],R=E[1],B=Object(c.useState)([]),Y=Object(F.a)(B,2),J=Y[0],G=Y[1],W=function(){var e=Object(P.a)(M.a.mark((function e(t){var c,s,n,r,l,j;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),i(!0),"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789","!@#$%^&*()-=_+[]{}|;:,.<>?",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-=_+[]{}|;:,.<>?",12,s="",n=0;n<12;n++)r=Math.floor(Math.random()*c.length),s+=c.charAt(r);for((l=new FormData).append("username",d),l.append("fullname",h),l.append("password",s),l.append("email",x),l.append("phone",w),l.append("address",C),l.append("gender",_),l.append("staffID",A),j=0;j<J.length;j++)l.append("files",J[j]);return e.prev=20,a(!0),e.next=24,z.post("/auth/register",l,{headers:{"Content-Type":"multipart/form-data"}});case 24:window.location.reload(),i(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(20),a(!1),i(!1);case 32:case"end":return e.stop()}}),e,null,[[20,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"newUser",children:[Object(v.jsx)("h1",{className:"newUserTitle",children:"New Staff"}),Object(v.jsxs)("form",{className:"newUserForm",children:[Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",placeholder:"john",name:"username",onChange:function(e){return o(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Full Name"}),Object(v.jsx)("input",{type:"text",placeholder:"John Smith",name:"fullname",onChange:function(e){return O(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"email",placeholder:"john@gmail.com",name:"email",onChange:function(e){return f(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Phone"}),Object(v.jsx)("input",{type:"text",placeholder:"+1 123 456 78",name:"phone",onChange:function(e){return S(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Address"}),Object(v.jsx)("input",{type:"text",placeholder:"New York | USA",name:"address",onChange:function(e){return k(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Staff ID"}),Object(v.jsx)("input",{type:"text",placeholder:"AP100",name:"staffID",onChange:function(e){return D(e.target.value.replace(/\s/g,""))}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Gender"}),Object(v.jsxs)("div",{className:"newUserGender",children:[Object(v.jsx)("input",{type:"radio",name:"gender",id:"male",value:"Male",onChange:function(e){return R(e.target.value.replace(/\s/g,""))}}),Object(v.jsx)("label",{for:"male",children:"Male"}),Object(v.jsx)("input",{type:"radio",name:"gender",id:"female",value:"Female",onChange:function(e){return R(e.target.value.replace(/\s/g,""))}}),Object(v.jsx)("label",{for:"female",children:"Female"}),Object(v.jsx)("input",{type:"radio",name:"gender",id:"other",value:"other",onChange:function(e){return R(e.target.value.replace(/\s/g,""))}}),Object(v.jsx)("label",{for:"other",children:"Other"})]})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("input",{type:"file",onChange:function(e){return G(e.target.files)},multiple:!0}),Object(v.jsx)("span",{children:"Select staff's documents"})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Active"}),Object(v.jsxs)("select",{className:"newUserSelect",name:"active",id:"active",children:[Object(v.jsx)("option",{value:"yes",children:"Yes"}),Object(v.jsx)("option",{value:"no",children:"No"})]})]}),Object(v.jsx)("button",{className:"newUserButton",onClick:W,children:r?"Loading...":"Create"})]})]})}a(480);function le(){var e=Object(c.useState)([]),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(F.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(F.a)(j,2),o=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(F.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(null),x=Object(F.a)(m,2),N=x[0],g=x[1],w=Object(c.useState)(""),S=Object(F.a)(w,2),I=S[0],y=S[1],C=Object(c.useState)(""),k=Object(F.a)(C,2),U=k[0],T=k[1],A=Object(c.useState)(""),D=Object(F.a)(A,2),L=D[0],E=D[1],_=Object(c.useState)(""),R=Object(F.a)(_,2),B=R[0],Y=R[1],J=Object(c.useState)(""),G=Object(F.a)(J,2),W=G[0],Q=G[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,z.get("/shifts");case 4:t=e.sent,s(t.data),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching shifts:",e.t0),u(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=a.filter((function(e){var t=!I||e.staffEmail&&e.staffEmail.toLowerCase().includes(I.toLowerCase()),a=!U||e.client&&e.client.toLowerCase().includes(U.toLowerCase()),c=!W||e.location&&e.location.toLowerCase().includes(W.toLowerCase()),s=L?H(L):null,n=B?H(B):null,r=H(e.date);return t&&a&&c&&((!s||r>=s)&&(!n||r<=n))}));l(e)}),[I,U,L,B,W,a]);var H=function(e){var t=e.split("/"),a=Object(F.a)(t,3),c=a[0],s=a[1],n=a[2];return"20".concat(n,"-").concat(s,"-").concat(c)},V=function(){var e=Object(P.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=10;break}return e.prev=1,e.next=4,z.delete("/shifts/".concat(N));case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error deleting shift:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),Z=[{field:"_id",headerName:"ID",width:200},{field:"date",headerName:"Date",width:120},{field:"time",headerName:"Time",width:150},{field:"location",headerName:"Location",width:140},{field:"duration",headerName:"Duration",width:120},{field:"staffEmail",headerName:"Staff Email",width:150},{field:"notes",headerName:"Notes",width:160},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.b,{to:"/shift/"+e.row._id,children:Object(v.jsx)("button",{className:"productListEdit",children:"View"})}),Object(v.jsx)($.a,{className:"productListDelete",onClick:function(){return t=e.row._id,p(!0),void g(t);var t}})]})}}];return Object(v.jsxs)("div",{className:"productList",children:[Object(v.jsx)("h3",{className:"incidences-header",children:"All Shifts"}),Object(v.jsx)("h4",{className:"filter-header",children:"Filters"}),Object(v.jsxs)("div",{className:"filters",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"",children:"Staff Email:"}),Object(v.jsx)("input",{type:"text",placeholder:"joedoe@gmail.com",value:I,onChange:function(e){return y(e.target.value)}})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:"Client:"}),Object(v.jsx)("input",{type:"text",placeholder:"Joe",value:U,onChange:function(e){return T(e.target.value)}})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:"Start Date:"}),Object(v.jsx)("input",{type:"text",value:L,onChange:function(e){return E(e.target.value)},placeholder:"25/01/2024"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:"End Date:"}),Object(v.jsx)("input",{type:"text",value:B,onChange:function(e){return Y(e.target.value)},placeholder:"25/02/2024"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"",children:"Location:"}),Object(v.jsx)("input",{type:"text",placeholder:"Sydney",value:W,onChange:function(e){return Q(e.target.value)}})]}),Object(v.jsx)("button",{onClick:function(){var e=new ee.default("landscape");e.text("Aim Tasker Shifts Report",15,15);var t=i.map((function(e){return[e._id,e.date,e.time,e.location,e.client,e.duration,e.staffEmail,e.notes]}));e.autoTable({startY:20,head:[["ID","DATE","TIME","LOCATION","CLIENT","DURATION","STAFF","NOTES"]],body:t,styles:{fontSize:10,cellWidth:"wrap"},margin:{top:20}}),e.save("shifts_report.pdf")},children:"Generate Pdf"})]}),o?Object(v.jsx)("span",{children:"Loading ..."}):Object(v.jsx)(q.a,{rows:i,disableSelectionOnClick:!0,columns:Z,getRowId:function(e){return e._id},pageSize:8,checkboxSelection:!0}),O&&Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("span",{className:"modal-header",children:"Are you sure you want to delete?"}),Object(v.jsxs)("div",{className:"cancel-delete",children:[Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),p(!O)},children:"Cancel"}),Object(v.jsx)("button",{onClick:V,children:"Confirm"})]})]})]})}var je=a(61),de=a(93),oe=(a(481),a(167)),ue=["places"],be={width:"70vw",height:"60vh"};function he(){var e,t,a=Object(c.useState)(!1),s=Object(F.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)({}),l=Object(F.a)(i,2),j=l[0],d=l[1],o=Object(c.useState)(!1),u=Object(F.a)(o,2),b=u[0],h=u[1],O=Object(c.useState)(""),p=Object(F.a)(O,2),m=p[0],x=p[1],N=Object(g.h)(),w=Object(c.useState)({}),S=Object(F.a)(w,2),I=S[0],y=S[1],C=Object(c.useState)([]),k=Object(F.a)(C,2),U=k[0],T=k[1],A=Object(c.useState)(""),D=Object(F.a)(A,2),L=D[0],E=D[1],_=N.pathname.split("/")[2],R=Object(c.useState)({}),B=Object(F.a)(R,2),Y=B[0],J=B[1],G=Object(c.useState)(""),W=Object(F.a)(G,2),Q=W[0],H=W[1],V=Object(c.useState)(""),Z=Object(F.a)(V,2),K=Z[0],X=Z[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,z.get("/shifts/find/"+_);case 4:t=e.sent,y(t.data),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[_]),Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/users");case 3:t=e.sent,T(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var q=function(e){J((function(t){return Object(de.a)(Object(de.a)({},t),{},Object(je.a)({},e.target.name,e.target.value))}))},$=Object(oe.c)({googleMapsApiKey:"AIzaSyCeQ-SAYDNxH277bfJbNjed0Mqkik8bofo",libraries:ue}),te=$.isLoaded;if($.loadError)return Object(v.jsx)("div",{children:"Error loading maps"});if(!te)return Object(v.jsx)("div",{children:"Loading maps"});var ae=function(e,t){e.preventDefault(),d(t),r(!n)},ce=function(){var e=Object(P.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!m){e.next=8;break}return e.next=5,z.put("/shifts/assign/".concat(I._id),{location:I.location,date:I.date,time:I.time,type:I.type,duration:I.duration,client:"Jeff",staffEmail:m,notes:I.notes});case 5:window.location.reload(),e.next=9;break;case 8:E("Make sure you have selected a user");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),E(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(P.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z.put("/shifts/assign/".concat(I._id),{location:I.location,date:I.date,time:I.time,type:I.type,duration:I.duration,client:"Jeff",staffEmail:"",notes:I.notes});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(P.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Y){e.next=10;break}return e.prev=2,e.next=5,z.put("/shifts/".concat(I._id),Y);case 5:window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e;return(null===I||void 0===I||null===(e=I.casenotes)||void 0===e?void 0:e.filter((function(e){var t=new Date(e.time),a=Q?new Date(Q):null,c=K?new Date(K):null;return(!a||t>=a)&&(!c||t<=c)})))||[]};return Object(v.jsx)("div",{className:"product",children:b?Object(v.jsx)("span",{children:"Loading ..."}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"productTitleContainer",children:[Object(v.jsxs)("h3",{className:"productTitle",children:["Shift: ",_]}),Object(v.jsx)(f.b,{to:"/newproduct",children:Object(v.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(v.jsxs)("div",{className:"productTop",children:[Object(v.jsx)("div",{className:"productTopLeft",children:Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"ID:"}),I._id]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Location: "}),Object(v.jsx)("input",{onChange:q,name:"location",type:"text",className:"input-edit",placeholder:I.location})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Date and Time: "}),Object(v.jsx)("input",{onChange:q,name:"date",type:"text",className:"input-edit",placeholder:I.date}),Object(v.jsx)("input",{onChange:q,name:"time",type:"text",className:"input-edit",placeholder:I.time})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Type:"}),Object(v.jsx)("input",{onChange:q,name:"type",type:"text",className:"input-edit",placeholder:I.type})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Duration:"}),Object(v.jsx)("input",{onChange:q,name:"duration",type:"text",className:"input-edit",placeholder:I.duration})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Client:"}),Object(v.jsx)("input",{onChange:q,name:"client",type:"text",className:"input-edit",placeholder:null===I||void 0===I?void 0:I.client})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Assigned To:"}),I.staffEmail]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Notes:"}),Object(v.jsx)("textarea",{className:"shift-textarea",name:"",id:"",cols:"30",rows:"10",placeholder:I.notes})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Clock In:"}),null===I||void 0===I||null===(e=I.clockin)||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{children:["Time:",e.time]})," |",Object(v.jsxs)("span",{children:["Accuracy:",e.accuracy," Metres"]})," |",Object(v.jsx)("button",{className:"showmap-btn",onClick:function(t){return ae(t,e.coords)},children:"Show Map"})]},t)}))]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Clock Out:"}),null===I||void 0===I||null===(t=I.clockout)||void 0===t?void 0:t.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{children:["Time:",e.time]})," |",Object(v.jsxs)("span",{children:["Accuracy:",e.accuracy," Metres"]})," |",Object(v.jsx)("button",{className:"showmap-btn",onClick:function(t){return ae(t,e.coords)},children:"Show Map"})]},t)}))]}),Object(v.jsx)("button",{className:"update-shift",onClick:ne,children:"Update"})]})}),Object(v.jsx)("div",{className:"productTopRight",children:Object(v.jsxs)("div",{className:"productInfoBottom",children:[Object(v.jsxs)("div",{className:"date-range",children:[Object(v.jsx)("input",{type:"date",value:Q,onChange:function(e){return H(e.target.value)}}),Object(v.jsx)("input",{type:"date",value:K,onChange:function(e){return X(e.target.value)}}),Object(v.jsx)("button",{onClick:function(){var e=new ee.default("landscape");e.text("Shift ".concat(I._id," Case Notes Report"),15,15);var t=re().map((function(e){return[e.time,e.event,e.notes]}));e.autoTable({startY:20,head:[["TIME","EVENT","NOTES"]],body:t,styles:{fontSize:10,cellWidth:"wrap"},margin:{top:20}}),e.save("shift_".concat(I._id,"_casenotes_report.pdf"))},children:"Generate Case Notes Pdf"})]}),Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Date/Time"}),Object(v.jsx)("th",{children:"Case"}),Object(v.jsx)("th",{children:"Notes"})]}),re().map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.time}),Object(v.jsx)("td",{children:e.event}),Object(v.jsx)("td",{children:e.notes})]},t)}))]})]})})]}),Object(v.jsx)("div",{className:"productBottom",children:Object(v.jsx)("form",{className:"productForm",children:Object(v.jsxs)("div",{className:"productFormLeft",children:[Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Shift Date:"}),I.date]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Shift Time:"}),I.time]})]}),Object(v.jsx)("select",{name:"staffEmail",onChange:function(e){x(e.target.value)},children:U.map((function(e,t){return Object(v.jsx)("option",{value:e.email,name:e.email,children:e.fullname},t)}))}),Object(v.jsx)("button",{className:"productAddButton",onClick:ce,children:"Assign to Staff"}),L&&Object(v.jsx)("span",{className:"error",children:L}),I.staffEmail&&Object(v.jsx)("button",{className:"cancel-shift",onClick:se,children:"Cancel Shift"})]})})}),n&&Object(v.jsxs)("div",{className:"popup",children:[Object(v.jsx)("button",{className:"popup-map-btn",onClick:ae,children:"close"}),Object(v.jsx)(oe.a,{mapContainerStyle:be,zoom:10,center:j,children:Object(v.jsx)(oe.b,{position:j})})]})]})})}a(482);function Oe(){var e=Object(c.useState)({}),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(F.a)(n,2),i=(r[0],r[1]),l=Object(c.useState)(""),j=Object(F.a)(l,2),d=j[0],o=j[1],u=Object(c.useState)([]),b=Object(F.a)(u,2),h=b[0],O=b[1],p=function(e){s((function(t){return Object(de.a)(Object(de.a)({},t),{},Object(je.a)({},e.target.name,e.target.value))}))};Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/users");case 3:t=e.sent,O(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(P.a)(M.a.mark((function e(t){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=Z()(d).format("DD/MM/YYYY"),e.prev=2,e.next=5,z.post("/shifts",Object(de.a)(Object(de.a)({},a),{},{date:c}));case 5:i(!0),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"newProduct",children:[Object(v.jsx)("h1",{className:"addProductTitle",children:"New Shift"}),Object(v.jsxs)("form",{className:"addProductForm",children:[Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Location"}),Object(v.jsx)("input",{type:"text",placeholder:"Adelaide",name:"location",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Date And Time"}),Object(v.jsx)("input",{type:"date",placeholder:"2023-12-15",name:"date",onChange:function(e){return o(e.target.value)}}),Object(v.jsx)("input",{type:"text",placeholder:"08:00AM - 05:00PM",name:"time",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsx)("input",{type:"text",placeholder:"AM/PM",name:"type",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Client"}),Object(v.jsx)("input",{type:"text",placeholder:"James Doe",name:"client",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Duration"}),Object(v.jsx)("input",{type:"text",placeholder:"8 hours",name:"duration",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Notes"}),Object(v.jsx)("textarea",{type:"text",placeholder:"Lunch break at 5:00 PM",name:"notes",onChange:p})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Assign Shift"}),Object(v.jsx)("select",{name:"staffEmail",onChange:p,children:h.map((function(e,t){return Object(v.jsx)("option",{value:e.email,name:e.email,children:e.fullname},t)}))})]}),Object(v.jsxs)("div",{className:"addProductItem",children:[Object(v.jsx)("label",{children:"Active"}),Object(v.jsxs)("select",{name:"active",id:"active",children:[Object(v.jsx)("option",{value:"yes",children:"Yes"}),Object(v.jsx)("option",{value:"no",children:"No"})]})]}),Object(v.jsx)("button",{className:"addProductButton",onClick:m,children:"Create"})]})]})}a(483);var pe=function(){var e=s.a.useState(""),t=Object(F.a)(e,2),a=t[0],c=t[1],n=s.a.useState(""),r=Object(F.a)(n,2),i=r[0],l=r[1],j=s.a.useState(!1),d=Object(F.a)(j,2),o=d[0],u=d[1],b=s.a.useState(!1),h=Object(F.a)(b,2),O=h[0],p=h[1],m=Object(g.g)(),x=JSON.parse(localStorage.getItem("user")),f=function(){var e=Object(P.a)(M.a.mark((function e(t){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a||!i){e.next=18;break}return e.prev=2,u(!0),e.next=6,z.post("/auth/login",{staffID:a,password:i});case 6:c=e.sent,localStorage.setItem("staff",JSON.stringify(c.data)),c.data&&"admin"===c.data.role&&m.push("/home"),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),p(!0),u(!1);case 16:e.next=20;break;case 18:p(!0),u(!1);case 20:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"login",children:Object(v.jsxs)("div",{className:"login-form",children:[Object(v.jsx)("h2",{children:"Admin"}),Object(v.jsx)("input",{type:"text",placeholder:"Enter the Staff ID",onChange:function(e){return c(e.target.value)}}),Object(v.jsx)("input",{type:"password",placeholder:"Enter your password",onChange:function(e){return l(e.target.value)}}),Object(v.jsx)("button",{onClick:f,children:o?"loading":"Login"}),x?Object(v.jsx)(g.a,{to:"/home"}):"",O&&Object(v.jsx)("span",{className:"error",children:"Please make sure you are admin and credentials are correct."})]})})};a(484);function me(){var e=Object(c.useState)([]),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(F.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(F.a)(j,2),o=d[0],u=d[1],b=Object(c.useState)(null),h=Object(F.a)(b,2),O=h[0],p=h[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,z.get("/clients");case 4:t=e.sent,s(t.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),l(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(P.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=9;break}return e.prev=1,e.next=4,z.delete("/clients/".concat(O));case 4:window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),x=[{field:"_id",headerName:"ID",width:90},{field:"fullname",headerName:"Full Name",width:150},{field:"phone",headerName:"Phone",width:150},{field:"email",headerName:"Email",width:200},{field:"address",headerName:"address",width:200},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.b,{to:"/client/"+e.row._id,children:Object(v.jsx)("button",{className:"userListEdit",children:"View"})}),Object(v.jsx)($.a,{className:"userListDelete",onClick:function(){return t=e.row._id,u(!0),void p(t);var t}})]})}}];return Object(v.jsxs)("div",{className:"userList",children:[Object(v.jsx)("h3",{className:"incidences-header",children:"All Clients"}),Object(v.jsx)("button",{onClick:function(){var e=new ee.default("landscape");e.text("Aim Tasker Clients Report",15,15);var t=a.map((function(e){return[e._id,e.fullname,e.phone,e.email,e.address,e.gender]}));e.autoTable({startY:20,head:[["ID","Full Name","PHONE","EMAIL","ADDRESS","GENDER"]],body:t,styles:{fontSize:10,cellWidth:"wrap"},margin:{top:20}}),e.save("clients_report.pdf")},className:"generatepdf",children:"Generate Pdf"}),i?Object(v.jsx)("span",{children:"Loading..."}):Object(v.jsx)(q.a,{rows:a,disableSelectionOnClick:!0,columns:x,getRowId:function(e){return e._id},pageSize:8,checkboxSelection:!0}),o&&Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("span",{className:"modal-header",children:"Are you sure you want to delete?"}),Object(v.jsxs)("div",{className:"cancel-delete",children:[Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),u(!o)},children:"Cancel"}),Object(v.jsx)("button",{onClick:m,children:"Confirm"})]})]})]})}a(485);function xe(){var e,t=Object(g.h)().pathname.split("/")[2],a=Object(c.useState)({}),s=Object(F.a)(a,2),n=s[0],r=s[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/clients/find/"+t);case 3:a=e.sent,r(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(v.jsxs)("div",{className:"user",children:[Object(v.jsxs)("div",{className:"userTitleContainer",children:[Object(v.jsx)("h1",{className:"userTitle",children:"Edit Client"}),Object(v.jsx)(f.b,{to:"/newclient",children:Object(v.jsx)("button",{className:"userAddButton",children:"Create"})})]}),Object(v.jsxs)("div",{className:"userContainer",children:[Object(v.jsxs)("div",{className:"userShow",children:[Object(v.jsx)("div",{className:"userShowTop",children:Object(v.jsx)("div",{className:"userShowTopTitle",children:Object(v.jsx)("span",{className:"userShowUsername",children:n.fullname})})}),Object(v.jsxs)("div",{className:"userShowBottom",children:[Object(v.jsx)("span",{className:"userShowTitle",children:"Account Details"}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(d.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.username})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(ae.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:"10.12.1999"})]}),Object(v.jsx)("span",{className:"userShowTitle",children:"Contact Details"}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(ce.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.phone})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(h.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.email})]}),Object(v.jsxs)("div",{className:"userShowInfo",children:[Object(v.jsx)(se.a,{className:"userShowIcon"}),Object(v.jsx)("span",{className:"userShowInfoTitle",children:n.address})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:"documents",children:"Documents"}),null===n||void 0===n||null===(e=n.documents)||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)("div",{className:"doc",children:[Object(v.jsx)(ne.a,{className:"visibility_icon",onClick:function(){return function(e){window.open("".concat(J,"/files/").concat(e),"_blank","noreferrer")}(e)}}),Object(v.jsx)("span",{children:e})]},t)}))]})]}),Object(v.jsxs)("div",{className:"userUpdate",children:[Object(v.jsx)("span",{className:"userUpdateTitle",children:"Edit"}),Object(v.jsxs)("form",{className:"userUpdateForm",children:[Object(v.jsxs)("div",{className:"userUpdateLeft",children:[Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",placeholder:n.username,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Full Name"}),Object(v.jsx)("input",{type:"text",placeholder:n.fullname,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"text",placeholder:n.email,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Phone"}),Object(v.jsx)("input",{type:"text",placeholder:n.phone,className:"userUpdateInput"})]}),Object(v.jsxs)("div",{className:"userUpdateItem",children:[Object(v.jsx)("label",{children:"Address"}),Object(v.jsx)("input",{type:"text",placeholder:n.address,className:"userUpdateInput"})]})]}),Object(v.jsxs)("div",{className:"userUpdateRight",children:[Object(v.jsxs)("div",{className:"userUpdateUpload",children:[Object(v.jsx)("label",{htmlFor:"file"}),Object(v.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(v.jsx)("button",{className:"userUpdateButton",children:"Update"})]})]})]})]})]})}a(486);function fe(){var e=Object(c.useState)(!1),t=Object(F.a)(e,2),a=(t[0],t[1]),s=Object(c.useState)(!1),n=Object(F.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)(""),j=Object(F.a)(l,2),d=j[0],o=j[1],u=Object(c.useState)(""),b=Object(F.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(F.a)(p,2),x=m[0],f=(m[1],Object(c.useState)("")),N=Object(F.a)(f,2),g=N[0],w=N[1],S=Object(c.useState)(""),I=Object(F.a)(S,2),y=I[0],C=I[1],k=Object(c.useState)(""),U=Object(F.a)(k,2),T=U[0],A=U[1],D=Object(c.useState)(""),L=Object(F.a)(D,2),E=L[0],_=L[1],R=Object(c.useState)(""),B=Object(F.a)(R,2),Y=B[0],J=B[1],G=Object(c.useState)(""),W=Object(F.a)(G,2),Q=W[0],H=W[1],V=Object(c.useState)(""),Z=Object(F.a)(V,2),K=Z[0],X=Z[1],q=Object(c.useState)(""),$=Object(F.a)(q,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ce=Object(F.a)(ae,2),se=ce[0],ne=ce[1],re=Object(c.useState)([]),ie=Object(F.a)(re,2),le=ie[0],je=ie[1],de=function(){var e=Object(P.a)(M.a.mark((function e(t){var c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),i(!0),(c=new FormData).append("username",d),c.append("fullname",h),c.append("password",x),c.append("email",g),c.append("phone",y),c.append("address",T),c.append("gender",se),c.append("DOB",E),c.append("startdate",Y),c.append("enddate",Q),c.append("desc",K),c.append("ndisNo",ee),s=0;s<le.length;s++)c.append("files",le[s]);return e.prev=16,i(!0),e.next=20,z.post("/clients",c,{headers:{"Content-Type":"multipart/form-data"}});case 20:a(!0),window.location.reload(),i(!1),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(16),a(!1),i(!1);case 29:case"end":return e.stop()}}),e,null,[[16,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"newUser",children:[Object(v.jsx)("h1",{className:"newUserTitle",children:"New Client"}),Object(v.jsxs)("form",{className:"newUserForm",children:[Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",placeholder:"john",name:"username",onChange:function(e){return o(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Full Name"}),Object(v.jsx)("input",{type:"text",placeholder:"John Smith",name:"fullname",onChange:function(e){return O(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"email",placeholder:"john@gmail.com",name:"email",onChange:function(e){return w(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Phone"}),Object(v.jsx)("input",{type:"text",placeholder:"+1 123 456 78",name:"phone",onChange:function(e){return C(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Address"}),Object(v.jsx)("input",{type:"text",placeholder:"New York | USA",name:"address",onChange:function(e){return A(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Plan Start Date"}),Object(v.jsx)("input",{type:"text",placeholder:"01/25/2024",name:"startdate",onChange:function(e){return J(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Plan End Date"}),Object(v.jsx)("input",{type:"text",placeholder:"01/25/2028",name:"enddate",onChange:function(e){return H(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"NDIS NO"}),Object(v.jsx)("input",{type:"text",placeholder:"56383930",name:"ndisNO",onChange:function(e){return te(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Date of Birth"}),Object(v.jsx)("input",{type:"text",placeholder:"25/04/1998",name:"DOB",onChange:function(e){return _(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Gender"}),Object(v.jsxs)("div",{className:"newUserGender",children:[Object(v.jsx)("input",{type:"radio",name:"gender",id:"male",value:"Male",onChange:function(e){return ne(e.target.value)}}),Object(v.jsx)("label",{for:"male",children:"Male"}),Object(v.jsx)("input",{type:"radio",name:"gender",id:"female",value:"Female",onChange:function(e){return ne(e.target.value)}}),Object(v.jsx)("label",{for:"female",children:"Female"}),Object(v.jsx)("input",{type:"radio",name:"gender",id:"other",value:"other",onChange:function(e){return ne(e.target.value)}}),Object(v.jsx)("label",{for:"other",children:"Other"})]})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("input",{type:"file",onChange:function(e){return je(e.target.files)},multiple:!0}),Object(v.jsx)("span",{children:"Select clients's documents"})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Note"}),Object(v.jsx)("textarea",{cols:5,rows:5,placeholder:"A 18 year old orphan.",name:"desc",onChange:function(e){return X(e.target.value)}})]}),Object(v.jsxs)("div",{className:"newUserItem",children:[Object(v.jsx)("label",{children:"Active"}),Object(v.jsxs)("select",{className:"newUserSelect",name:"active",id:"active",children:[Object(v.jsx)("option",{value:"yes",children:"Yes"}),Object(v.jsx)("option",{value:"no",children:"No"})]})]}),Object(v.jsx)("button",{className:"newUserButton",onClick:de,children:r?"Loading...":"Create"})]})]})}a(487);var ve=function(){var e=Object(c.useState)(!1),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(F.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(F.a)(j,2),o=(d[0],d[1]),u=Object(c.useState)([]),b=Object(F.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(F.a)(p,2),x=m[0],f=m[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,z.get("/announcements");case 4:t=e.sent,O(t.data),o(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),o(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=function(){var e=Object(P.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i||!x){e.next=12;break}return a={title:i,description:x,time:(new Date).toLocaleTimeString()},e.prev=3,e.next=6,z.post("/announcements",a);case 6:window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(P.a)(M.a.mark((function e(t,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z.delete("/announcements/".concat(a));case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"announcement",children:[Object(v.jsx)("span",{className:"announcement-header",children:"Announcements"}),h.map((function(e,t){return Object(v.jsxs)("div",{className:"annoucement-card",children:[Object(v.jsx)("span",{className:"announcement-text",children:e.title}),Object(v.jsx)("span",{className:"announcement-time",children:e.time}),Object(v.jsx)($.a,{onClick:function(t){return g(t,e._id)},className:"delete"})]},t)})),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),s(!a)},className:"announcement-add",children:"Add Announcement"}),a&&Object(v.jsxs)("div",{className:"announcement-input",children:[Object(v.jsx)("input",{type:"text",placeholder:"Enter title",onChange:function(e){return l(e.target.value)}}),Object(v.jsx)("textarea",{name:"",id:"",cols:"30",rows:"10",placeholder:"Enter description",onChange:function(e){return f(e.target.value)}}),Object(v.jsx)("button",{onClick:N,children:"Submit"})]})]})};a(488);function Ne(){var e=Object(c.useState)([]),t=Object(F.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(F.a)(n,2),i=r[0],l=r[1];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,z.get("/incidences");case 4:t=e.sent,s(t.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),l(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=[{field:"_id",headerName:"ID",width:90},{field:"date",headerName:"Date",width:150},{field:"time",headerName:"Time",width:150},{field:"location",headerName:"Location",width:200},{field:"reportBy",headerName:"Reported By",width:200},{field:"personAffected",headerName:"Person Affected",width:200},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.b,{to:"/incidence/"+e.row._id,children:Object(v.jsx)("button",{className:"userListEdit",children:"View"})}),Object(v.jsx)($.a,{className:"userListDelete",onClick:function(){return t=e.row.id,void s(a.filter((function(e){return e.id!==t})));var t}})]})}}];return Object(v.jsxs)("div",{className:"userList",children:[Object(v.jsx)("h3",{className:"incidences-header",children:"Incidences Reported"}),i?Object(v.jsx)("span",{children:"Loading..."}):Object(v.jsx)(q.a,{rows:a,disableSelectionOnClick:!0,columns:j,getRowId:function(e){return e._id},pageSize:8,checkboxSelection:!0})]})}a(489);function ge(){var e,t=Object(c.useState)(!1),a=Object(F.a)(t,2),s=(a[0],a[1],Object(c.useState)({})),n=Object(F.a)(s,2),r=(n[0],n[1],Object(g.h)()),i=Object(c.useState)({}),l=Object(F.a)(i,2),j=l[0],d=l[1],o=r.pathname.split("/")[2];Object(c.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/incidences/find/"+o);case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);return Object(v.jsxs)("div",{className:"product",children:[Object(v.jsx)("div",{className:"productTitleContainer",children:Object(v.jsxs)("h3",{className:"productTitle",children:["Incidence: ",o]})}),Object(v.jsx)("div",{className:"productTop",children:Object(v.jsx)("div",{className:"productTopLeft",children:Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"ID:"}),j._id]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Location: "}),j.location]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Date and Time: "}),j.date," ",j.time]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Address Of Location: "}),j.addressOfLocation]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Date Of Report: "}),j.dateOfReport]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Person Affected: "}),j.personAffected]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Person Completing Form: "}),j.personCompletingForm]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Person Injured: "}),j.personInjured]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Report By: "}),j.reportBy]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Role Of person: "}),j.roleOfPerson]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Other People Affected: "}),Object(v.jsx)("span",{children:j.person1}),Object(v.jsx)("span",{children:j.phone1})," |",Object(v.jsx)("span",{children:j.person2}),Object(v.jsx)("span",{children:j.phone2})," |",Object(v.jsx)("span",{children:j.person3}),Object(v.jsx)("span",{children:j.phone3})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Type of Incidence"}),null===j||void 0===j||null===(e=j.typeOfIncidence)||void 0===e?void 0:e.map((function(e,t){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:e},t),"|"]})}))]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"What Happened: "}),j.whatHappened]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Actual Incidence: "}),j.actualIncident]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"After Incident: "}),j.afterIncident]})]})})})]})}var we=function(){var e=JSON.parse(localStorage.getItem("staff"));return Object(v.jsx)(f.a,{children:Object(v.jsxs)(g.d,{children:[Object(v.jsx)(g.b,{exact:!0,path:"/",children:Object(v.jsx)(pe,{})}),e&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(N,{}),Object(v.jsx)(g.b,{exact:!0,path:"/home",children:Object(v.jsx)(X,{})}),Object(v.jsx)(g.b,{path:"/users",children:Object(v.jsx)(te,{})}),Object(v.jsx)(g.b,{path:"/clients",children:Object(v.jsx)(me,{})}),Object(v.jsx)(g.b,{path:"/user/:userId",children:Object(v.jsx)(re,{})}),Object(v.jsx)(g.b,{path:"/client/:clientId",children:Object(v.jsx)(xe,{})}),Object(v.jsx)(g.b,{path:"/newUser",children:Object(v.jsx)(ie,{})}),Object(v.jsx)(g.b,{path:"/newClient",children:Object(v.jsx)(fe,{})}),Object(v.jsx)(g.b,{path:"/shifts",children:Object(v.jsx)(le,{})}),Object(v.jsx)(g.b,{path:"/shift/:shiftId",children:Object(v.jsx)(he,{})}),Object(v.jsx)(g.b,{path:"/newproduct",children:Object(v.jsx)(Oe,{})}),Object(v.jsx)(g.b,{path:"/announcement",children:Object(v.jsx)(ve,{})}),Object(v.jsx)(g.b,{path:"/incidences",children:Object(v.jsx)(Ne,{})}),Object(v.jsx)(g.b,{path:"/incidence/:id",children:Object(v.jsx)(ge,{})})]})]})]})})};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(we,{})}),document.getElementById("root"))}},[[490,1,2]]]);
//# sourceMappingURL=main.0a0a6000.chunk.js.map